---
testName: "TestSystemLaunch"
testCase:
  eCR-socialHistory:
    fileData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDataEntry1.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
    resourceMappingData:
      Patient:
      - params: "12742571"
        responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
      - params: "97953900"
        responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
      - params: "11817978"
        responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
      - params: "675844"
        responseFilePath: "R4/Organization/Organization.json"
      Condition:
      - params:
          patient: "12742571"      
        responseFilePath: "R4/Condition/ConditionBundle_d2572364249.json"
      - params:
          patient: "12742571"
          code: "http%3A%2F%2Fsnomed.info%2Fsct%7C77386006"
        responseFilePath: "R4/Condition/ConditionPernancy-77386006.json"
      Observation:
      - params:
          patient: "12742571"
          code: "http%3A%2F%2Floinc.org%7C90767-5"
        responseFilePath: "R4/Observation/ObservationPernancy-90767-5.json"
      - params:
          patient: "12742571"
          code: "http%3A%2F%2Floinc.org%7C29762-2"
        responseFilePath: "R4/Observation/ObservationTravel-29762-2.json"
      - params:
          patient: "12742571"
          code: "http%3A%2F%2Fsnomed.info%2Fsct%7C161085007"
        responseFilePath: "R4/Observation/ObservationTravel-161085007.json"
      - params:
          patient: "12742571"
          code: "http%3A%2F%2Fsnomed.info%2Fsct%7C443846001"
        responseFilePath: "R4/Observation/ObservationTravel-443846001.json"
      - params:
          patient: "12742571"
          code: "http%3A%2F%2Fsnomed.info%2Fsct%7C34831000175105"
        responseFilePath: "R4/Observation/ObservationTravel-34831000175105.json"
      - params:
          patient: "12742571"
          code: "http%3A%2F%2Fsnomed.info%2Fsct%7C224362002"
        responseFilePath: "R4/Observation/ObservationOccupation-224362002.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.2.2.1"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.2.2.1"
      'templateId[2]/@extension': "2015-08-01"
      'code/@code': "11369-6"
      'code/@codeSystem': "2.16.840.1.113883.6.1"
      'code/@codeSystemName': "LOINC"
      'code/@displayName': "History of immunizations"      
      title: "IMMUNIZATIONS"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/text/table/thead/tr/th"
      count: 2
#    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/text/table/tbody/tr"
#      count: 3
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/text/table/tbody/tr[1]/td"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/text/table"
      'thead/tr/th[1]': "Vaccine Name"
      'thead/tr/th[2]': "Vaccination Date"
#      'tbody/tr[1]/td[1]/content': "zoster vaccine recombinant"
#      'tbody/tr[1]/td[2]/content': "2014"
#      'tbody/tr[2]/td[1]/content': "tetanus toxoid, unspecified formulation"
#      'tbody/tr[2]/td[2]/content': "2000"
#      'tbody/tr[3]/td[1]/content': "influenza virus vaccine, live, attenuated, for intranasal use"
#      'tbody/tr[3]/td[2]/content': "2019"
#    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry"
#      count: 3
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[1]"
      '@typeCode': "DRIV"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[1]/substanceAdministration/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[1]/substanceAdministration/id"
      count: 1
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[1]/substanceAdministration"
      '@classCode': "SBADM"
      '@moodCode': "EVN"
#      '@negationInd': "false"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.4.52"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.4.52"
      'templateId[2]/@extension': "2015-08-01"
      'id[1]/@root': "2.16.840.1.113883.1.1.1.1"
#      'id[1]/@extension': "M197287364"
#      'statusCode/@code': "completed"
#      'effectiveTime/@value': "2014"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[1]/substanceAdministration/consumable/manufacturedProduct/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[1]/substanceAdministration/consumable/manufacturedProduct"
      '@classCode': "MANU"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.4.54"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.4.54"
      'templateId[2]/@extension': "2014-06-09"
#      'id[1]/@root': ""
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[1]/substanceAdministration/consumable/manufacturedProduct/manufacturedMaterial"
      'code/@code': "187"
      'code/@codeSystem': "2.16.840.1.113883.12.292"
      'code/@codeSystemName': "cvx"
      'code/@displayName': "zoster vaccine recombinant"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[2]"
      '@typeCode': "DRIV"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[2]/substanceAdministration/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[2]/substanceAdministration/id"
      count: 1
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[2]/substanceAdministration"
      '@classCode': "SBADM"
      '@moodCode': "EVN"
#      '@negationInd': "false"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.4.52"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.4.52"
      'templateId[2]/@extension': "2015-08-01"
      'id[1]/@root': "2.16.840.1.113883.1.1.1.1"
#      'id[1]/@extension': "M197287360"
#      'statusCode/@code': "completed"
#      'effectiveTime/@value': "2000"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[2]/substanceAdministration/consumable/manufacturedProduct/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[2]/substanceAdministration/consumable/manufacturedProduct"
      '@classCode': "MANU"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.4.54"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.4.54"
      'templateId[2]/@extension': "2014-06-09"
#      'id[1]/@root': ""
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[2]/substanceAdministration/consumable/manufacturedProduct/manufacturedMaterial"
      'code/@code': "112"
      'code/@codeSystem': "2.16.840.1.113883.12.292"
      'code/@codeSystemName': "cvx"
      'code/@displayName': "tetanus toxoid, unspecified formulation"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[3]"
      '@typeCode': "DRIV"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[3]/substanceAdministration/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[3]/substanceAdministration/id"
      count: 1
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[3]/substanceAdministration"
      '@classCode': "SBADM"
      '@moodCode': "EVN"
#      '@negationInd': "false"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.4.52"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.4.52"
      'templateId[2]/@extension': "2015-08-01"
      'id[1]/@root': "2.16.840.1.113883.1.1.1.1"
#      'id[1]/@extension': "M197287356"
#      'statusCode/@code': "completed"
#      'effectiveTime/@value': "2019"
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[3]/substanceAdministration/consumable/manufacturedProduct/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[3]/substanceAdministration/consumable/manufacturedProduct"
      '@classCode': "MANU"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.4.54"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.4.54"
      'templateId[2]/@extension': "2014-06-09"
#      'id[1]/@root': ""
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/entry[3]/substanceAdministration/consumable/manufacturedProduct/manufacturedMaterial"
      'code/@code': "111"
      'code/@codeSystem': "2.16.840.1.113883.12.292"
      'code/@codeSystemName': "cvx"
      'code/@displayName': "influenza virus vaccine, live, attenuated, for intranasal use"
  eCR-immunization-withNoVaccine:
    fileData:
      ClientDataToBeSaved: "R4/Misc/ClientDetails/ClientDataEntry1.json"
      SystemLaunchPayload: "R4/Misc/SystemLaunchPayload/systemLaunchRequest.json"
    resourceMappingData:
      Patient:
      - params: "12742571"
        responseFilePath: "R4/Patient/Patient_12742571.json"
      Encounter:
      - params: "97953900"
        responseFilePath: "R4/Encounter/Encounter_withOneParticipant.json"
      Practitioner:
      - params: "11817978"
        responseFilePath: "R4/Practitioner/Practitioner_11817978.json"
      Organization:
      - params: "675844"
        responseFilePath: "R4/Organization/Organization.json"
      Condition:
      - params:
          patient: "12742571"
        responseFilePath: "R4/Condition/ConditionBundle_d2572364249.json"
    otherMappingData:
      metadata: "R4/Misc/MetaData_r4.json"
      token: "R4/Misc/AccessToken.json"
      default: "R4/Misc/NoDataFound_Default.json"
    validate:
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section/templateId"
      count: 2
    - xPath: "/ClinicalDocument/component/structuredBody/component[5]/section"
      '@nullFlavor': "NI"
      'templateId[1]/@root': "2.16.840.1.113883.10.20.22.2.2.1"
      'templateId[2]/@root': "2.16.840.1.113883.10.20.22.2.2.1"
      'templateId[2]/@extension': "2015-08-01"
      'code/@code': "11369-6"
      'code/@codeSystem': "2.16.840.1.113883.6.1"
      'code/@codeSystemName': "LOINC"
      'code/@displayName': "History of immunizations"      
      title: "IMMUNIZATIONS"
      text: "No ImmunizationInformation"